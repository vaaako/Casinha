<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<%- include('partials/embed'); %>

	<link rel="stylesheet" href="/styles/base.css">
	<link rel="stylesheet" href="/styles/sidebar.css">
	<link rel="stylesheet" href="/styles/loadmore.css">
	<link rel="stylesheet" href="/styles/posts.css">
	<link rel="stylesheet" href="/styles/user.css">

	<script type="text/javascript" src="/scripts/reaction.js" defer></script>

	<!-- Bootstrap icons -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
	<title>Casinha | <%= user.username %></title>

	<style type="text/css">
		.banner {
			background-image: url('/medias/banners/<%= user.pubid %>.png');
			background-size: cover;
			background-position: center;

			padding: 0;
		}
	</style>
</head>
<body>
	<%- include('partials/sidebar', { user: ownuser }); %>
	<header class="banner">
		<div class="background"></div>
		<div id="profile-area">
			<img class="pfp-style" src="/medias/pfp/<%= user.pubid %>.png" onerror="this.onerror=null; this.src='/medias/defaultpfp.png';" alt="pfp">
			<p id="nickname"><%= user.nickname %> %></p>
			<p id="username"><%= user.username %></p>
			<p id="bio"><%= user.bio %></p>
		</div>
	</header>

	<h1 style="text-align: center; margin-top: 10px;"><%= user.nickname %>'s Posts</h1>
	<section id="posts">
		<% for(const post of allPosts) { %>
			<%- include('partials/posts', { post }); %>
		<% } %>
	</section>

	<%- include('partials/loadmore-posts', { username: user.username, parentpostid: undefined }); %>
</body>
</html>